<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">
<head>
    <meta charset="utf-8" />
    <title></title>

    <!-- ===== Layout Scripts in SharePoint  =========================================================================================== -->
    <script src="/_layouts/15/clientpeoplepicker.js"></script>
    <script src="/_layouts/15/clienttemplates.js"></script>
    <script src="/_layouts/15/clientforms.js"></script>
    <script src="/_layouts/15/sp.runtime.js"></script>
    <script src="/_layouts/15/autofill.js"></script>
    <script src="/_layouts/15/sp.js"></script>

    <script type="text/javascript" src="/_layouts/15/init.js"></script>
    <script type="text/javascript" src="/_layouts/15/1033/strings.js"></script>
    <script type="text/javascript" src="/_layouts/15/core.js"></script>
    <link rel="stylesheet" href="../_catalogs/masterpage/eRequest/Apps/StyleLib/Styles/style.css" />
    <link rel="stylesheet" href="../_catalogs/masterpage/eRequest/Apps/StyleLib/Styles/Spinner.css" />
    <!-- ===== Custom Scripts in Master  =========================================================================================== -->

    <script src="../_catalogs/masterpage/eRequest/Apps/app.js"></script>
    <script src="../_catalogs/masterpage/eRequest/Apps/baseSvc.js"></script>
    <script src="../_catalogs/masterpage/eRequest/Apps/commonSvc.js"></script>
    <script src="../_catalogs/masterpage/eRequest/Apps/utility.js"></script>
    <script src="../_catalogs/masterpage/eRequest/Apps/CRSR/CRSRService.js"></script>
    <script src="../_catalogs/masterpage/eRequest/Apps/CRSR/CRSRRequestController.js"></script>
    <!-- ===== Date Picker-jquery-ui.css  =========================================================================================== -->
    <style type="text/css">
        body {
            font-family: "Segoe UI","Segoe",Tahoma,Helvetica,Arial,sans-serif;
        }

        .container {
            width: 100% !important;
        }

        h4, .ms-h4 {
            font-size: 1.7em;
            color: #262626;
        }

        label {
            display: inline-block;
            /* max-width: 100%; */
            margin-bottom: 5px;
            font-weight: 500;
            /* text-align: left; */
            /* font-size: 12px; */
        }

        .sp-peoplepicker-topLevel, .sp-peoplepicker-topLevelDisabled {
            cursor: text;
            height: 100%;
            width: 305px !important;
            position: relative;
            padding: 3px 25px 3px 0px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .redColor {
            color: red;
        }

        .checkbox, .radio {
            position: relative;
            display: initial !important;
            margin-top: 10px;
            margin-left: 25px !important;
            margin-bottom: 0px !important;
            color: darkslateblue !important;
        }
    </style>
    <style>
        .scrollTable {
            height: 350px;
            overflow-y: auto;
        }
    </style>
    <style>
        #ui-datepicker-div.ui-datepicker .ui-widget-header {
            border: 1px solid #aaa;
            background: #e9e9e9;
            color: #ffffff;
            font-weight: bold;
        }

            #ui-datepicker-div.ui-datepicker .ui-state-hover, #ui-datepicker-div.ui-datepicker.ui-widget-content .ui-state-hover, #ui-datepicker-div.ui-datepicker .ui-widget-header .ui-state-hover {
                border: 1px solid #ccc;
                background: #ededed;
                color: #2b2b2b;
            }

                #ui-datepicker-div.ui-datepicker .ui-state-hover .ui-icon {
                    background-image: url(images/ui-icons_222222_256x240.png)
                }

            #ui-datepicker-div.ui-datepicker .ui-widget-header .ui-icon {
                background-image: url(images/ui-icons_222222_256x240.png)
            }

        #ui-datepicker-div.ui-datepicker .ui-state-default, #ui-datepicker-div.ui-datepicker.ui-widget-content .ui-state-default {
            color: rgb(0,69,126);
        }

        #ui-datepicker-div.ui-datepicker .ui-widget-header select, #ui-datepicker-div.ui-datepicker.ui-helper-clearfix select {
            font-weight: normal;
            display: inline;
            height: auto;
            margin: 1px 0;
            padding: 0;
            -webkit-appearance: menulist;
            -moz-appearance: menulist;
            background-image: none;
        }

        #ui-datepicker-div.ui-datepicker .ui-datepicker-prev-hover, #ui-datepicker-div.ui-datepicker .ui-datepicker-next-hover {
            top: 2px;
        }

        #ui-datepicker-div.ui-datepicker .ui-datepicker-prev-hover {
            left: 2px;
        }

        #ui-datepicker-div.ui-datepicker .ui-datepicker-next-hover {
            right: 2px;
        }
    </style>
    <script>
        $(function () {
            var dateToday = new Date();
            $("#ExpectedCompletionDate").datepicker({
                changeMonth: true,
                changeYear: true,
                minDate: 0,
                dateFormat: 'dd/mm/yy'

            });
            $("#ProductionDataPatchsignoff").datepicker({
                changeMonth: true,
                changeYear: true,
                minDate: 0,
                dateFormat: 'dd/mm/yy'
            });
        });
    </script>
</head>
<body>
    <div ng-app="eRequestApp">
        <div ng-controller="CRSRRequestController" ng-init="init()">
            <ng-form name="appForm" ng-app novalidate>
                <!-- partial:../../partials/_sidebar.html -->
                <nav class="sidebar">

                    <div class="sidebar-header">
                        <a href="#" class="sidebar-brand">
                            <img src="../_catalogs/masterpage/eRequest/Apps/StyleLib/Images/logo.png" alt="" class="img-fluid" style="padding: 35px">
                        </a>
                        <div class="sidebar-toggler not-active">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>

                    <div class="sidebar-body">
                        <ul class="nav">
                            <li class="nav-item nav-category">Main</li>
                            <li class="nav-item">
                                <a target="_parent" href="/erequest/Pages/CRSRRequest.aspx" class="nav-link">
                                    <i class="link-icon" data-feather="send"></i>
                                    <span class="link-title">New Request</span>
                                </a>
                            </li>
                            <li class="nav-item ">
                                <a target="_parent" href="/erequest/Pages/CRSRDashboard.aspx" class="nav-link">
                                    <i class="link-icon" data-feather="send"></i>
                                    <span class="link-title">Dashboard</span>
                                </a>
                            </li>
                            <li ng-show="isAdminGroup" class="nav-item ">
                                <a target="_parent" href="/erequest/Pages/CRSRAdminDashboard.aspx" class="nav-link">
                                    <i class="link-icon" data-feather="send"></i>
                                    <span class="link-title">Admin Dashboard</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
                <!-- partial -->
                <div class="page-wrapper">
                    <nav class="navbar">
                        <a href="#" class="sidebar-toggler">
                            <i data-feather="menu"></i>
                        </a>
                        <div class="navbar-content" style="background-color: #fff;">
                            
                            <ul class="navbar-nav">
                                <li class="nav-item dropdown nav-profile">
                                    <a class="nav-link dropdown-toggle" href="#" id="profileDropdown" role="button" data-toggle="dropdown"
                                       aria-haspopup="true" aria-expanded="false">
                                        <img src="../_catalogs/masterpage/eRequest/Apps/StyleLib/Images/faces/face1.jpg" alt="profile">
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="profileDropdown">
                                        <div class="dropdown-header d-flex flex-column align-items-center">
                                            <div class="figure mb-3">
                                                <img src="../_catalogs/masterpage/eRequest/Apps/StyleLib/Images/faces/face1.jpg" alt="">
                                            </div>
                                            <div class="info text-center">
                                                <p class="name font-weight-bold mb-0">Hi {{appProperties.CurrentUser.Title}}</p>
                                                <p class="email text-muted mb-3">{{appProperties.CurrentUser.Email}}</p>
                                            </div>
                                        </div>
                                        <div ng-show="isSiteAdmin" class="dropdown-body">
                                            <ul class="profile-nav p-0 pt-3">
                                                <li class="nav-item">
                                                    <a target="_parent" href="/erequest/_layouts/15/viewlsts.aspx" class="nav-link">
                                                        <i data-feather="edit"></i>
                                                        <span>Site Contents</span>
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a target="_parent" href="/erequest/_layouts/15/settings.aspx" class="nav-link">
                                                        <i data-feather="log-out"></i>
                                                        <span>Site Settings</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </nav>
                    <!-- Main Section -->
                    <div class="page-content">
                        <h4 class="pb-2 pagehead">NEW REQUEST</h4>
                        <div class="row">
                            <div ng-if="appProperties.CRSR.ID != ''" class="col-md-4">
                                <div class="form-group">
                                    <label for="exampleInputUsername1">Application ID</label>
                                    <input type="text" class="form-control" name="apllicationID" id="apllicationID" ng-model="appProperties.CRSR.ApplicationID" disabled />
                                </div>
                            </div>
                            <div style="display:none" class="col-md-3">
                                <div class="form-group">
                                    <label for="exampleInputUsername1">Application Date</label>
                                    <input type="text" class="form-control" id="apllicationDate" ng-model="appProperties.CRSR.ApplicationDate" disabled />
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="exampleInputUsername1">Requestor ID</label>
                                    <input type="text" class="form-control" id="requesterID" ng-model="appProperties.CRSR.Author.LoginName" disabled />
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="exampleInputUsername1">Requestor Name</label>
                                    <input type="text" class="form-control" id="requesterName" ng-model="appProperties.CRSR.Author.Title" disabled />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-1">
                                <div class="form-check form-check-flat form-check-primary">
                                    <div class="form-group">
                                        <label for="exampleInputUsername1">On Behalf</label>
                                        <input type='checkbox' ng-disabled="IsSApproveButton" id="chkboxBehalf" ng-click='checkVal()' value='1' ng-model="OnBehalf">
                                    </div>
                                </div>
                            </div>
                            <!-- dont use ng-if dome element need to use in controller -->
                            <div ng-show="OnBehalf" class="col-md-3">
                                <div class="form-group">
                                    <label for="my-input">User Name</label>
                                    <input ng-hide="IsSubmitButton" type="text" class="form-control" id="userID" ng-model="appProperties.CRSR.RequestedFor.Title" disabled />
                                    <div ng-show="IsSubmitButton" title="peoplePickerRequestedFor" id="peoplePickerRequestedFor"></div>
                                    <span class="redColor" ng-show="IsRequestedReq">User Name is Required.</span>
                                </div>
                            </div>
                            <div ng-show="OnBehalf" class="col-md-3">
                                
                            </div>
                            <div ng-show="OnBehalf" class="col-md-3">
                                <div class="form-group">
                                    <label for="exampleInputText1">User Id</label>
                                    <input type="text" class="form-control" id="userID" ng-model="appProperties.CRSR.RequestedFor.LoginName" disabled />
                                </div>
                            </div>
                        </div>

                        <div class="card-group">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Request Details</h4>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Project / System</label>
                                                <select name="ProjectSystem" id="ProjectSystem" ng-disabled="IsSApproveButton" class="form-control form-control-sm mb-3" ng-change="getRequestType()" ng-model="appProperties.CRSR.ProjectSystem" required>
                                                    <option ng-repeat="item in appProperties.ProjectSystemMaster" ng-selected="appProperties.CRSR.ProjectSystem == item.Title" value="{{item.Title}}">{{item.Title}}</option>
                                                    <option value="">--Select--</option>
                                                </select>
                                                <span id="spnothr" ng-show="appForm.ProjectSystem.$invalid && appForm.ProjectSystem.$touched" class="text-danger">Project / System is mandatory.</span>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Request Type</label>
                                                <select name="ddlRequestType" id="ddlRequestType" ng-disabled="IsSApproveButton" class="form-control form-control-sm mb-3" ng-model="appProperties.CRSR.TypeofRequest" required>
                                                    <option value="Change request">Change Request</option>
                                                    <option value="Service request">Service Request</option>
                                                    <option value="">--Select--</option>
                                                </select>
                                                <span id="spnothr" ng-show="appForm.ddlRequestType.$invalid && appForm.ddlRequestType.$touched" class="text-danger">Request Type is mandatory.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="card-group">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <label>Reason for Request</label>
                                            <div class="row">
                                                <div ng-repeat="Information in CheckboxReasonforRequestInfo" class="form-check form-check-flat form-check-primary col-md-4">
                                                    <label class="form-check-label">
                                                        <input type="checkbox" class="custom-control-input" ng-disabled="IsSApproveButton" name="SelectionChkboxReasonforRequestInfo[]" value="{{Information}}" ng-checked="SelectionChkboxReasonforRequestInfo.indexOf(Information) > -1"
                                                               ng-click="toggleCheckboxReasonforRequestInfoSelection(Information)"> {{Information}}
                                                        <i class="input-frame"></i>
                                                    </label>
                                                </div>
                                                <span id="sspnothsr" ng-show="IsmandtryReasonforRequestInfo" class="text-danger">Select any one option from Reason for Requests.</span>
                                            </div>
                                        </div>
                                        <div ng-show="IsEnabledReasonforRequestOthers" class="col-md-12">
                                            <label>Other Reason</label>
                                            <textarea cols="20" rows="1" name="OtherReasonforRequest" ng-disabled="IsSApproveButton" ng-model="appProperties.CRSR.OtherReasonforRequest" class="form-control" id="softwarelink"></textarea>
                                            <span id="spnothr" ng-show="appForm.OtherReasonforRequest.$invalid && appForm.OtherReasonforRequest.$touched" class="text-danger">OtherReasonforRequest is mandatory.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="card-group">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Expected Completion Date</label>
                                                <input type="text" name="ExpectedCompletionDate" autocomplete="off" ng-disabled="IsSApproveButton" placeholder="DD/MM/YYYY" ng-model="appProperties.CRSR.ExpectedCompletionDate" id="ExpectedCompletionDate" class="form-control" required>
                                                <span class="redColor" ng-show="appForm.ExpectedCompletionDate.$invalid && appForm.ExpectedCompletionDate.$touched">Expected Completion Date is Required.</span>
                                            </div>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label>Expected Completion Date For</label>
                                                <div ng-repeat="Information in CheckboxExpectedCompletionDateforInfo" class="form-check form-check-flat form-check-primary col-md-4">
                                                    <label class="form-check-label">
                                                        <input type="checkbox" class="custom-control-input" autocomplete="off" ng-disabled="IsSApproveButton" name="SelectionChkboxExpectedCompletionDateforInfo[]" value="{{Information}}" ng-checked="SelectionChkboxExpectedCompletionDateforInfo.indexOf(Information) > -1"
                                                               ng-click="toggleSelectionChkboxExpectedCompletionDateforInfo(Information)"> {{Information}}
                                                        <i class="input-frame"></i>
                                                    </label>
                                                </div>
                                                <span id="sspnothr" ng-show="IsmandtryCompletionDatefor" class="text-danger">Select any one option from Expected Completion Date for</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="card-group">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Module</label>
                                                <input type="text" ng-model="appProperties.CRSR.Module" ng-disabled="IsSApproveButton" class="form-control" name="Module" id="Module" required />
                                                <span class="redColor" ng-show="appForm.Module.$invalid && appForm.Module.$touched">Module is mandatory</span>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Exisiting Solution</label>
                                                <input type="text" ng-model="appProperties.CRSR.ExistingSituation"  ng-disabled="IsSApproveButton"class="form-control" id="ExistingSituation" />
                                                <span id="ExistingSituation" class="text-danger" style="display: none">ExistingSituation is mandatory.</span>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Proposed Changes</label>
                                                <input type="text" ng-model="appProperties.CRSR.ProposedChanges" ng-disabled="IsSApproveButton" class="form-control" name="ProposedChanges" id="ProposedChanges" required />
                                                <span class="redColor" ng-show="appForm.ProposedChanges.$invalid && appForm.ProposedChanges.$touched">Proposed Changes is mandatory</span>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Justification</label>
                                                <input type="text" ng-model="appProperties.CRSR.Justification" ng-disabled="IsSApproveButton" class="form-control" name="Justification" id="Justification" required />
                                                <span class="redColor" ng-show="appForm.Justification.$invalid && appForm.Justification.$touched">Justification is mandatory</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="card-group">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Other Details</h4>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label>Chargeable </label>
                                            <div class="form-check form-check-flat form-check-primary" ng-repeat="subscription in entities">
                                                <!--ng-repeat="Information in CheckboxChargeableInfo"-->

                                                <label class="form-check-label">
                                                    <!--<input type="checkbox" class="custom-control-input" ng-disabled="IsSApproveButton" name="SelectionChkboxChargeableInfo[]" value="{{Information}}" ng-checked="SelectionChkboxChargeableInfo.indexOf(Information) > -1"
            ng-click="toggleSelectionChkboxChargeableInfo($index,CheckboxChargeableInfo)"> {{Information}}-->
                                                    <input type="checkbox" ng-model="subscription.checked" ng-disabled="IsSApproveButton" ng-click="updateSelection($index, entities)" />{{subscription.name}}
                                                </label>
                                            </div>
                                            <span class="redColor" ng-show="chargebleIsmandtry">Chargeable Info required and select any one</span>
                                          
                                        </div>
                                        <div class="col-md-3">
                                            <div ng-show="IsfundAuthoirty" class="form-group">
                                                <label>Estimated Effort</label>
                                                <input type="text" ng-model="appProperties.CRSR.EstimatedEffort" ng-disabled="IsSApproveButton" class="form-control" id="EstimatedEffort" name="EstimatedEffort" />
                                                <span id="spnEstimatedEffort" ng-show="EstimatedEffortIsmandtry" class="text-danger">Estimated Effort is mandatory.</span>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div ng-show="IsfundAuthoirty" class="form-group">
                                                <label>Estimated Cost</label>
                                                <input type="text" ng-model="appProperties.CRSR.EstimatedCost" ng-disabled="IsSApproveButton" class="form-control" name="EstimatedCost" id="EstimatedCost" />
                                                <span class="redColor" ng-show="EstimatedCostIsmandtry">Estimated Cost is mandatory</span>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <div valign="top" class="ms-formlabel">
                                                    <H3 class="ms-standardheader">
                                                        <nobr>Attachment</nobr>
                                                    </H3>
                                                </div>
                                                <div class='input-group'>
                                                    <input type="file" onchange="angular.element(this).scope().upload(this)" ng-disabled="IsSApproveButton" id="filex" name="filex" />
                                                    <span class="redColor" ng-show="isSelectedFile">Please select file to approve...</span>
                                                    <div ng-show="appProperties.appFiles.length>0 || appProperties.appFileProperties.length>0" class="Table center">
                                                        <div class="form-group">
                                                            <table id="file_list2" role="presentation" class="" aria-live="polite" tabindex="-1">
                                                                <tfoot>
                                                                    <tr ng-repeat="item in appProperties.appFileProperties track by $index" class="active">
                                                                        <td>
                                                                            <a target="_blank" href="{{item.url}}">{{item.fileName}}</a>
                                                                        </td>
                                                                        <td ng-show="IsSubmitButton">
                                                                            <a class="btn btn-xs delete-record" ng-disabled="IsSubmitMode" ng-click="removeFiles($index,item.fileName)">X</a>
                                                                        </td>
                                                                    </tr>
                                                                </tfoot>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-group">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div ng-show="IsfundAuthoirty" class="form-group">
                                                <label>Fund Center</label>
                                                <select name="FundCentre" id="FundCentre" class="form-control" ng-disabled="IsSApproveButton" ng-model="appProperties.CRSR.FundCentre">
                                                    <option ng-repeat="item in appProperties.FundCentreMaster" ng-selected="appProperties.CRSR.FundCentre == item.Title" value="{{item.Title}}">{{item.Title}}</option>
                                                    <option value="">--Select--</option>
                                                </select>
                                                <span class="redColor" ng-show="FundCentreIsmandtry">Fund Center is Required.</span>
                                            </div>
                                        </div>
                                        <div class="col-md-3">                                         
                                            <div ng-show="IsfundAuthoirty" class="form-group">
                                                <label>Cost Center</label>
                                                <select name="CostCentre" id="CostCentre" class="form-control" ng-disabled="IsSApproveButton" ng-change="getRequestType()" ng-model="appProperties.CRSR.CostCentre">
                                                    <option ng-repeat="item in appProperties.CostCentreMaster" ng-selected="appProperties.CRSR.CostCentre == item.Title" value="{{item.Title}}">{{item.Title}}</option>
                                                    <option value="">--Select--</option>
                                                </select>
                                                <span class="redColor" ng-show="CostCentreIsmandtry">Cost Center is mandatory</span>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div ng-show="IsfundAuthoirty" class="form-group">
                                                <label>Funding Authority</label>
                                                <select name="FundingAuthority" id="FundingAuthority" ng-disabled="IsSApproveButton" class="form-control" ng-model="appProperties.CRSR.FundingAuthority.Id">
                                                    <option ng-repeat="item in appProperties.FundingAuthorityMaster" ng-selected="appProperties.CRSR.FundingAuthority.Title == item.Title" value="{{item.Id}}">{{item.Title}}</option>
                                                    <option value="">--Select--</option>
                                                </select>
                                                <span class="redColor" ng-show="FundingAuthorityIsmandtry">Funding Authority is Required.</span>
                                            </div>
                                        </div>
                                        <!--<div class="col-md-3">
                                            <div class="form-group">
                                                <label>Production / Data patch Sign off</label>
                                                <input type="text" name="ProductionDataPatchsignoff" placeholder="DD/MM/YYYY" ng-model="appProperties.CRSR.ProductionDataPatchsignoff" id="ProductionDataPatchsignoff" class="form-control" required>
                                                <span class="redColor" ng-show="appForm.ProductionDataPatchsignoff.$invalid && appForm.ProductionDataPatchsignoff.$touched">ProductionDataPatchsignoff is Required.</span>

                                            </div>
                                        </div>-->
                                        <div class="col-md-12" style="display:none">
                                            <div class="form-group">
                                                <label>Production / Data patch Remarks</label>
                                                <textarea cols="20" rows="4" class="form-control" ng-disabled="IsSApproveButton" name="ProductionDataPatchRemarks" id="ProductionDataPatchRemarks" ng-model="appProperties.CRSR.ProductionDataPatchRemarks" required></textarea>
                                                <span class="redColor" ng-show="appForm.ProductionDataPatchRemarks.$invalid && appForm.ProductionDataPatchRemarks.$touched">RemarksReasons is Required.</span>

                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>UAT Status</label>
                                                <div class="form-check form-check-flat form-check-primary" ng-repeat="Information in CheckboxUATStatusInfo">
                                                    <label class="form-check-label">
                                                        <input type="checkbox" class="custom-control-input" ng-disabled="IsSApproveButton" name="SelectionCheckboxUATStatusInfo[]" value="{{Information}}" ng-checked="SelectionCheckboxUATStatusInfo.indexOf(Information) > -1"
                                                               ng-click="toggleSelectionCheckboxUATStatusInfo(Information)"> {{Information}}
                                                    </label>
                                                </div>
                                                <span class="redColor" ng-show="IsmandtryUATStatusInfo">UAT Status required and select any one.</span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div ng-show="IsEnabledUATOthers" class="form-group">
                                                <div valign="top" class="ms-formlabel">
                                                    <H3 class="ms-standardheader">
                                                        <nobr>Other<span style="color:red">*</span></nobr>
                                                    </H3>
                                                </div>
                                                <div valign="top" class="ms-formbody noSpecial">
                                                    <input type="text" ng-model="appProperties.CRSR.OtherUATStatus" ng-disabled="IsSApproveButton" class="form-control" id="softwarelink" />
                                                </div>
                                                <span id="softwarelinkError" class="text-danger" style="display: none">Other is mandatory.</span>
                                            </div>
                                        </div>

                                        <div class="col-md-12">
                                            <label>UAT Remarks</label>
                                            <textarea class="form-control" cols="20" rows="4" name="uatRemarkstxt" ng-disabled="IsSApproveButton" id="uatRemarkstxt" ng-model="appProperties.CRSR.UATRemarks" required></textarea>
                                            <span class="redColor" ng-show="appForm.uatRemarkstxt.$invalid && appForm.uatRemarkstxt.$touched">UATRemarks is Required.</span>
                                        </div>
                                        <div class="col-md-12" ng-show="IsCommentsSection">
                                            <label for="tNumber">Comments <span class="redColor">*</span></label>
                                            <textarea id="ticketNumber" ng-model="appProperties.appComments.Comments" name="Comments" class="form-control"></textarea><!--required-->
                                            <div ng-hide="!appProperties.appComments.length" class="Table center">
                                                <div class="col-md-12 col-sm-12">
                                                    <table id="file_list" role="presentation" class="table table-condensed" aria-live="polite" tabindex="-1">
                                                        <thead>
                                                            <tr class="active">
                                                                <th scope="col">Comments</th>
                                                                <th scope="col">Comments By</th>
                                                                <th scope="col">Date</th>
                                                            </tr>
                                                        </thead>
                                                        <tfoot>
                                                            <tr ng-repeat="item in appProperties.appComments track by $index" class="">
                                                                <td>
                                                                    {{item.UserComments}}
                                                                </td>
                                                                <td>
                                                                    {{item.Author.Title}}
                                                                </td>
                                                                <td>
                                                                    {{item.Created | date : 'dd/MMM/yyyy hh:mm a'}}
                                                                </td>
                                                            </tr>
                                                        </tfoot>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-group pt-4">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <!-- Button Section Starts here-->
                                        <div class="col-md-6">
                                            <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                                                <li class="nav-item">
                                                    <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pending" ng-show="IsSubmitButton" value="Submit" ng-click="submitCRSRRequest(1,$event,appForm)" role="tab" aria-controls="pills-home" aria-selected="true">Submit</a>
                                                </li>
                                                <li ng-show="IsSApproveButton" class="nav-item">
                                                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" ng-click="submitCRSRRequest(2,$event,appForm)" href="#all" role="tab" aria-controls="pills-profile" aria-selected="false">Approve</a>
                                                </li>
                                                <li ng-show="IsRejectButton" class="nav-item">
                                                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" ng-click="submitCRSRRequest(3,$event,appForm)" href="#all" role="tab" aria-controls="pills-profile" aria-selected="false">Reject</a>
                                                </li>
                                                <li ng-show="IsClosedButton" class="nav-item">
                                                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" ng-click="submitCRSRRequest(2,$event,appForm)" href="#all" role="tab" aria-controls="pills-profile" aria-selected="false">Close</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" ng-click="submitCRSRRequest(0,$event,appForm)" href="#all" role="tab" aria-controls="pills-profile" aria-selected="false">Cancel</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <!-- Button Section end here-->
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <!-- Main Section -->
                    <footer class="footer d-flex flex-column flex-md-row align-items-center justify-content-between">
                        <p class="text-muted text-center text-md-left">
                            Copyright © 2020 NPark. All rights reserved
                        </p>
                    </footer>
                </div>
                <div class="modal" id="my_modal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div style="display:none;" class="pull-right">
                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="my-input">Delegate Approver </label>
                                    <div ng-repeat="Information in CheckboxDelegateUserInfo">
                                        <input type="checkbox" class="" name="SelectionChkboxDelegateUserInfo[]" value="{{Information}}" ng-checked="SelectionChkboxDelegateUserInfo.indexOf(Information) > -1"
                                               ng-click="toggleSelectionChkboxDelegateUser(Information)"> {{Information}}
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <input id="btnSubmitRequest" class="frmbutton" value="Submit" ng-click="submitListItem(15,$event,appForm)" type="button" />
                                <button class="btn btn-warning" type="button" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <div ng-show="loaded" class="loading">Loading&#8230;</div>
        </div>
        <!-- ===== child controller  =========================================================================================== -->
        <script type="text/ng-template" id="myModal.html">
            <div class="modal-dialog">
                <div class="modal-header">

                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="full_name" class="col-md-5 col-form-label rightText">Delegate Approver <span class="redColor"> *</span></label>
                        <div class="col-md-7">
                            <div ng-repeat="Information in CheckboxDelegateUserInfo">
                                <input type="checkbox" class="custom-control-input" ng-disabled="IsSubmitMode" name="SelectionChkboxDelegateUserInfo[]" value="{{Information}}" ng-checked="SelectionChkboxDelegateUserInfo.indexOf(Information) > -1"
                                       ng-click="toggleSelectionChkboxDelegateUser(Information)"> {{Information}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div align="center" class="form-group">
                        <input id="btnSubmitRequest" class="frmbutton" value="Submit" ng-click="submitListItem(15,$event,appForm)" type="button" />
                        <button class="btn btn-warning" type="button" ng-click="cancelModal()">Close</button>
                    </div>
                    <!--<button class="btn btn-primary" type="button" ng-click="ok()">Ok</button>-->

                </div>
            </div>
        </script>
        <style>
            .modal-dialog {
                top: 20%;
                left: 0%;
                width: 750px;
            }

            .modal-body {
                position: relative;
                padding-top: 15px;
                padding-bottom: 30px;
                /* padding-left: 5px; */
                padding-right: 100px;
            }
        </style>
    </div>
</body>
</html>